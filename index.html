<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Noam Yakar - Cybersecurity Portfolio</title>
  
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,500,700&display=swap" rel="stylesheet">
  
  <!-- External Libraries -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jsencrypt/3.0.0/jsencrypt.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
  <!-- Confetti Library -->
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
  
  <style>
    /* Global Reset & Fonts */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Roboto', sans-serif;
      background-color: #ffffff;
      color: #222;
      line-height: 1.6;
    }
    a {
      color: #007aff;
      text-decoration: none;
      transition: color 0.3s ease;
    }
    a:hover {
      color: #0051a8;
    }
    
    /* Header & Navigation */
    header {
      background: #ffffff;
      padding: 15px 30px;
      position: sticky;
      top: 0;
      z-index: 1000;
      box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);
    }
    nav {
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    .logo {
      display: flex;
      align-items: center;
    }
    .logo img {
      width: 80px;
      height: 80px;
      border-radius: 12px;
      margin-right: 10px;
      border: 1px solid #ddd;
    }
    nav ul {
      list-style: none;
      display: flex;
    }
    nav ul li {
      margin-left: 20px;
    }
    nav ul li a {
      font-weight: 500;
    }
    
    /* Terminal Styling (Mac iTerm Look) */
    #terminal {
      background-color: #1a1a1a;
      color: #33ff99;
      font-family: "Courier New", Courier, monospace;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 6px 15px rgba(0, 0, 0, 0.5);
      max-width: 750px;
      margin: 40px auto;
      overflow: hidden;
    }
    .terminal-header {
      display: flex;
      align-items: center;
      background: #252525;
      padding: 10px 15px;
      border-top-left-radius: 10px;
      border-top-right-radius: 10px;
      justify-content: space-between;
      border-bottom: 2px solid #333;
    }
    .terminal-title {
      color: #ccc;
      font-size: 0.9rem;
    }
    .buttons {
      display: flex;
      gap: 8px;
    }
    .buttons span {
      width: 14px;
      height: 14px;
      border-radius: 50%;
      display: inline-block;
    }
    .red { background-color: #ff5f56; }
    .yellow { background-color: #ffbd2e; }
    .green { background-color: #27c93f; }
    .terminal-body {
      padding: 15px;
      font-size: 1.2rem;
      white-space: pre-wrap;
    }
    .command-line, .output-line {
      margin-top: 8px;
    }
    .cyan { color: #00ffff; }
    .terminal-input {
      background: transparent;
      border: none;
      border-bottom: 1px solid #ccc;
      font-family: inherit;
      font-size: 1.2rem;
      outline: none;
      color: inherit;
      margin-left: 10px;
    }
    
    /* About Me & Resume Section (Hidden Until Challenge Solved) */
    #about {
      max-width: 900px;
      margin: 40px auto;
      padding: 20px;
      background: #ffffff;
      border: 1px solid #ddd;
      border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      display: none;
    }
    #about h1,
    #about h2,
    #about h3 {
      margin-bottom: 10px;
    }
    .about-container {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      margin-top: 20px;
    }
    .about-intro,
    .resume-highlights {
      flex: 1 1 300px;
    }
    .resume-highlights ul {
      list-style: disc inside;
      margin-left: 20px;
    }
    .resume-highlights p {
      margin-bottom: 15px;
    }
    
    /* Lock Animation Overlay */
    #lockAnimation {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(255, 255, 255, 0.95);
      z-index: 2000;
      text-align: center;
      padding-top: 30%;
      color: #222;
      font-family: -apple-system, BlinkMacSystemFont, 'Roboto', sans-serif;
    }
    #lockIcon {
      font-size: 80px;
      transition: transform 0.5s ease;
    }
    
    /* Footer */
    footer {
      text-align: center;
      padding: 20px;
      background: #ffffff;
      border-top: 1px solid #ddd;
      margin-top: 40px;
      color: #666;
    }
  </style>
</head>
<body>
  <!-- Header with Navigation (Resume remains locked until challenge solved) -->
  <header>
    <nav>
      <div class="logo">
        <img src="profile.png" alt="Profile Picture" />
        <span>Noam Yakar</span>
      </div>
      <ul>
        <li><a href="#terminal">CTF</a></li>
      </ul>
    </nav>
  </header>
  
  <!-- Terminal Section (The entire interaction happens here) -->
  <section id="terminal">
    <div class="terminal-header">
      <div class="buttons">
        <span class="red"></span>
        <span class="yellow"></span>
        <span class="green"></span>
      </div>
      <div class="terminal-title">Noam@CyberOps â€” bash â€” 80x24</div>
    </div>
    <div class="terminal-body" id="terminal-body"></div>
  </section>
  
  <!-- About Me & Resume Section (Revealed after challenge solved) -->
  <section id="about">
    <h1>About Me & Resume</h1>
    <div class="about-container">
      <!-- Introduction Column -->
      <div class="about-intro">
        <h2>Hello, I'm Noam Yakar</h2>
        <p>
          Iâ€™m a cybersecurity enthusiast and dual-degree student in Computer Science and Mathematics at Arizona State University. My passion spans data engineering, statistical modeling, and advanced cybersecurity challenges.
        </p>
        <p>
          With internships at Nike, ASU, and Radware Inc., I thrive in turning complex challenges into innovative solutions, whether itâ€™s building secure systems or competing in high-stakes CTFs.
        </p>
      </div>
      <!-- Resume Highlights Column -->
      <div class="resume-highlights">
        <h2>Resume Highlights</h2>
        <h3>Education</h3>
        <p>
          <strong>Arizona State University, Tempe</strong> (2021 â€“ 2025)<br>
          BSc Computer Science, BSc Mathematics (Statistics Focus) | GPA 4.0
        </p>
        <h3>Technical Skills</h3>
        <ul>
          <li>Python, R, SAS, C, C++, SQL</li>
          <li>PowerBI, TensorFlow, Keras, PyTorch, Scikit Learn, Pwntools</li>
          <li>Cybersecurity: Buffer Overflow, ROP, Shellcode Injection, Kernel Exploitation</li>
        </ul>
        <h3>Experience</h3>
        <ul>
          <li><strong>Nike</strong> â€“ Data Engineering Intern (Oregon)</li>
          <li><strong>ASU</strong> â€“ Statistical Modeling Analyst (Arizona)</li>
          <li><strong>Radware Inc.</strong> â€“ Cybersecurity Data Intern (Tel Aviv)</li>
        </ul>
        <h3>Projects</h3>
        <ul>
          <li><strong>WarGames:</strong> Secure Gradebook System</li>
          <li><strong>SneakyPixel:</strong> Hack the Pixels, Hide Your Secrets</li>
          <li><strong>Privacy Preserving Tool:</strong> Data Anonymization with Vega-Lite &amp; Flask</li>
        </ul>
        <p>For full details, <a href="resume1.pdf" target="_blank">download my resume</a>.</p>
      </div>
    </div>
  </section>
  
  <!-- Lock Animation Overlay -->
  <div id="lockAnimation">
    <div id="lockIcon">ðŸ”’</div>
    <div id="unlockText" style="font-size: 24px; margin-top: 20px;">Unlocking...</div>
  </div>
  
  <!-- Terminal Interaction Script -->
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const terminalBody = document.getElementById("terminal-body");
      
      // Initial simulated commands before the challenge menu:
      const initialCommands = [
        { command: "whoami", output: "Noam Yakar" },
        { command: "ls -l", output: "total 4\nlrwxrwxrwx  1 noam  staff  27 Feb 17 12:00 flag -> /super/secret/flag" },
        { command: "cat flag", requiresInput: true, prompt: "Want to play a game? [Y / N]" }
      ];
      
      let cmdIndex = 0;
      
      function typeCommand(index, commandObj, callback) {
        const commandLine = document.createElement("div");
        commandLine.classList.add("command-line");
        commandLine.innerHTML = `<span class="cyan">Noam@CyberOps:~$</span> <span class="command"></span>`;
        terminalBody.appendChild(commandLine);
        const commandEl = commandLine.querySelector(".command");
        let i = 0;
        
        function typeText() {
          if (i < commandObj.command.length) {
            commandEl.textContent += commandObj.command.charAt(i);
            i++;
            setTimeout(typeText, 50);
          } else {
            // After command is typed:
            if (commandObj.requiresInput) {
              displayInputPrompt(commandObj.prompt, callback);
            } else {
              setTimeout(() => {
                displayOutput(commandObj.output, callback);
              }, 500);
            }
          }
        }
        typeText();
      }
      
      function displayOutput(text, callback) {
        const outputLine = document.createElement("div");
        outputLine.classList.add("output-line");
        outputLine.innerHTML = text.replace(/\n/g, "<br>");
        terminalBody.appendChild(outputLine);
        if (callback) setTimeout(callback, 1000);
      }
      
      // Display an input prompt with the given promptText.
      function displayInputPrompt(promptText, callback) {
        const promptLine = document.createElement("div");
        promptLine.classList.add("output-line");
        promptLine.innerHTML = promptText;
        terminalBody.appendChild(promptLine);
        const inputField = document.createElement("input");
        inputField.type = "text";
        inputField.className = "terminal-input";
        promptLine.appendChild(inputField);
        inputField.focus();
        inputField.addEventListener("keydown", function(e) {
          if (e.key === "Enter") {
            const userInput = inputField.value.trim().toUpperCase();
            inputField.disabled = true;
            if (callback) callback(userInput);
          }
        });
      }
      
      // Run the initial sequence of commands.
      function runInitialCommands() {
        if (cmdIndex < initialCommands.length) {
          typeCommand(cmdIndex, initialCommands[cmdIndex], function(userResponse) {
            // For the last command ("cat flag") which requires input:
            if (initialCommands[cmdIndex].requiresInput) {
              if (userResponse === "Y") {
                // Display challenge selection menu.
                displayChallengeMenu();
              } else {
                displayOutput("Maybe next time.");
              }
            } else {
              cmdIndex++;
              runInitialCommands();
            }
          });
        }
      }
      
      runInitialCommands();
      
      // Display a menu for selecting the challenge.
      function displayChallengeMenu() {
        displayOutput("Select Challenge: Type '1' for Crypto Challenge or '2' for Chess Puzzle.", function() {
          displayInputPrompt("Your Choice:", function(choice) {
            if (choice === "1") {
              // Clear the terminal and show crypto challenge
              terminalBody.innerHTML = "";
              displayCryptoPuzzle();
            } else if (choice === "2") {
              // Clear the terminal and show chess challenge
              terminalBody.innerHTML = "";
              displayChessPuzzle();
            } else {
              displayOutput("Invalid choice. Please type '1' or '2'.", displayChallengeMenu);
            }
          });
        });
      }
      
      // Display the crypto (hash) challenge.
      function displayCryptoPuzzle() {
        displayOutput("Crypto Challenge:", function() {
          displayOutput("Public & Private keys are hidden in the source. Decrypt the flag and enter it below:", function() {
            displayInputPrompt("Enter decrypted flag:", function(answer) {
              // Check flag (using precomputed hash)
              const inputHash = CryptoJS.SHA256(answer).toString();
              if (inputHash === flagHash) {
                displayOutput("Correct flag!");
                unlockPortfolio();
              } else {
                displayOutput("Incorrect flag. Try again.");
                displayCryptoPuzzle();
              }
            });
          });
        });
      }
      
      // Display the chess challenge (ASCII board + puzzle).
      function displayChessPuzzle() {
        displayOutput("Chess Challenge:", function() {
          // ASCII board representation
          const asciiBoard = 
`Mate in 2. White to move. Here's the ASCII board:

   -------------------------
8 | .  .  .  .  .  r  k  . |
7 | p  p  .  .  .  p  .  p |
6 | .  .  .  .  .  P  p  . |
5 | .  .  .  .  .  .  Q  . |
4 | q  .  .  .  .  .  .  . |
3 | .  .  .  .  .  .  .  . |
2 | P  .  .  .  .  P  P  P |
1 | .  .  .  .  .  R  K  . |
   -------------------------
     a  b  c  d  e  f  g  h

Enter your moves (White only), separated by spaces:`;
          
          displayOutput(asciiBoard, function() {
            displayInputPrompt("e.g. Ka2 Ka3", function(moves) {
              // Normalize user input
              const movesNormalized = moves.trim().toLowerCase();
              // Accept either Qh6 Qg7 OR Qg6 Qh7
              if (movesNormalized === "qh6 qg7" || movesNormalized === "qg6 qh7") {
                displayOutput("Correct moves!");
                unlockPortfolio();
              } else {
                displayOutput("Wrong solution. Try again.");
                displayChessPuzzle();
              }
            });
          });
        });
      }
    });
    
    // Precomputed SHA-256 hash of the correct flag.
    const flagHash = "ea3396d401dba439de8968fdef106c655f58a7031bb2a86e509819db872d815d";
    // We'll accept either Qh6 Qg7 or Qg6 Qh7 as correct moves
    // (logic is in displayChessPuzzle())
    
    // Unlocking animation and reveal resume.
    function unlockPortfolio() {
      const lockDiv = document.getElementById('lockAnimation');
      lockDiv.style.display = 'block';
      setTimeout(() => {
        document.getElementById('lockIcon').textContent = "ðŸ”“";
        document.getElementById('lockIcon').style.transform = "scale(1.5)";
        document.getElementById('unlockText').textContent = "Unlocked!";
      }, 1500);
      setTimeout(() => {
        lockDiv.style.display = 'none';
        // Reveal the resume section while the terminal remains visible.
        document.getElementById("about").style.display = "block";
        celebrate();
      }, 2500);
    }
    
    // Confetti animation function.
    function celebrate() {
      const duration = 3000;
      const end = Date.now() + duration;
      (function frame() {
        confetti({ particleCount: 5, angle: 60, spread: 55, origin: { x: 0 } });
        confetti({ particleCount: 5, angle: 120, spread: 55, origin: { x: 1 } });
        if (Date.now() < end) {
          requestAnimationFrame(frame);
        }
      })();
    }
  </script>
  
  <!-- Hidden Sensitive Data (for CTF challenge) -->
  <script id="hiddenData" type="application/json">
  {
    "encryptedFlag": "5c69ca3064c1a48236380094503d4037009d97a8fde3646e2e479bfb408afc8ba737af4f97af3dfe867e39b3e9aa694d6d2044d3c2e61df9d6805e6b7db3e534579ab444ca36103b040b0915c48fd6fd01f215fa1bf0cb7acfd436ecafe9fe2978b1ee131f225ca3c55cd1968cb6b14e1789490996090308d1ca133382d9c030",
    "privateKey": "-----BEGIN PRIVATE KEY-----\nMIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAIkCa11vEoWMrZuE\nRiS6vIeGMcyuopfw1d3w8v/0o9kLEOTy1x7ipY8E4Qmn0YtfjIErIA3rwyEOSy8n\nONybga2acu+CkDzRUlhgid4qtpTpPznHT+nOr9T+kDyeAkxVYVGs94AD43WsYcVU\nEQD8v6M1z3pshyrACUoGHgBBvRtpAgMBAAECgYBggKzA/egs2v65SHzjiAgc6R+Q\njP0HSmJJVlrCgD0cNlgq+wUcwwVb7FLZqzPEGIPtw0NrqsEhOmEokFbTxFCcvSBH\nMBGw0IPI6OLeTronInvyqLxEuMLTcAnT+13QN2Se3Ke3Ets0puXe9x7cABxIBDU4\nNLrTxq7efsUKI+mTlQJBANmD8HHoimpuyEG5LgNVEL5h9iiNmyVcCBR2A7bTfAyu\nqququcmL9p8s2jCVyC7YcAffeRRb+JWnF49+vzdI5+8CQQChQBMFwhtOJU/L35Js\nzQAVwD9oN2YeuqKfdb6fWs4lz2I/I1OThbkry2Na6Dfwd/S0BdH2GLQULLIbkADr\npJonAkBxfgEwPggyvnjoqgmTHYht/cklobVIyftBSc5oT3KTX3OXvK3RtqDIrutt\nnEll//J8eSLA97f9xcBqU9TLsNOrAkAWz5ChVOc189NI/PSizZFAgnS10nhwymgs\n9KQluNvGv4KfeejdyqH6TwhcGNOpAd8tBFHCZZY78GK1wXZP33YrAkEAsbJ/9qsi\nLtv8UQlKlclNvncvxS2im4ZuIz925W3N3KnrnfAVoCwe5WlbMTwcTAIpMUXnMLI3\nmk3N0OpieqEDjw==\n-----END PRIVATE KEY-----",
    "publicKey": "-----BEGIN PUBLIC KEY-----\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCJAmtdbxKFjK2bhEYkuryHhjHM\nrqKX8NXd8PL/9KPZCxDk8tce4qWPBOEJp9GLX4yBKyAN68MhDksvJzjcm4GtmnLv\ngpA80VJYYIneKraU6T85x0/pzq/U/pA8ngJMVWFRrPeAA+N1rGHFVBEA/L+jNc96\nbIcqwAlKBh4AQb0baQIDAQAB\n-----END PUBLIC KEY-----"
  }
  </script>
</body>
</html>
